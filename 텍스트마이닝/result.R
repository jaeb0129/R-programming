library(devtools)
Sys.setenv(JAVA_HOME="C:/Program Files/Java/jdk1.8.0_151")
library(rJava)
library(KoNLP)

useNIADic()
mergeUserDic(data.frame(c("이모티콘"), c("ncn")))
mergeUserDic(data.frame(c("동영상"), c("ncn")))
mergeUserDic(data.frame(c("김원형"), c("ncn")))
mergeUserDic(data.frame(c("순재범"), c("ncn")))
mergeUserDic(data.frame(c("오원석"), c("ncn")))
mergeUserDic(data.frame(c("양재석"), c("ncn")))
mergeUserDic(data.frame(c("김광현"), c("ncn")))
mergeUserDic(data.frame(c("오태곤"), c("ncn")))
mergeUserDic(data.frame(c("조형우"), c("ncn")))
mergeUserDic(data.frame(c("문승원"), c("ncn")))
mergeUserDic(data.frame(c("박종훈"), c("ncn")))
mergeUserDic(data.frame(c("엘리아스"), c("ncn")))
mergeUserDic(data.frame(c("맥카티"), c("ncn")))
mergeUserDic(data.frame(c("김태훈"), c("ncn")))
mergeUserDic(data.frame(c("박민호"), c("ncn")))
mergeUserDic(data.frame(c("서상준"), c("ncn")))
mergeUserDic(data.frame(c("민경훈"), c("ncn")))
mergeUserDic(data.frame(c("안상현"), c("ncn")))
mergeUserDic(data.frame(c("박성한"), c("ncn")))
mergeUserDic(data.frame(c("랜더스"), c("ncn")))
mergeUserDic(data.frame(c("김광현"), c("ncn")))
mergeUserDic(data.frame(c("한유섬"), c("ncn")))
mergeUserDic(data.frame(c("한동민"), c("ncn")))
mergeUserDic(data.frame(c("전의산"), c("ncn")))
mergeUserDic(data.frame(c("최준우"), c("ncn")))
mergeUserDic(data.frame(c("인스타"), c("ncn")))
mergeUserDic(data.frame(c("서진용"), c("ncn")))
mergeUserDic(data.frame(c("이재원"), c("ncn")))
mergeUserDic(data.frame(c("김강민"), c("ncn")))
mergeUserDic(data.frame(c("추신수"), c("ncn")))
mergeUserDic(data.frame(c("류선규"), c("ncn")))
mergeUserDic(data.frame(c("유강남"), c("ncn")))   
mergeUserDic(data.frame(c("정용진"), c("ncn")))
mergeUserDic(data.frame(c("이로운"), c("ncn")))
mergeUserDic(data.frame(c("스트레스"), c("ncn")))             
             
setwd("C:/Users/jaeb0/Desktop/워드클라우드")
getwd()
text1 <- readLines('랜더스방.txt')
text1
text2 <- extractNoun(text1)
text3 <- unlist(text2)
text4 <- gsub('[ㄱ-ㅎ]','', text3) # 전처리
text4 <- gsub('(ㅜ|ㅠ)+','', text4) 
text4 <- gsub('\\(이모티콘\\)','', text4) 
text4 <- gsub('^','', text4) 
text4 <- gsub('10','', text4) 
text4 <- gsub('해서','', text4)
text4 <- gsub('때문','', text4)
text4 <- gsub('클릭','', text4)
text4 <- gsub('어디','', text4)
text4 <- gsub('그거','', text4)
text4 <- gsub('하게','', text4) 
text4 <- gsub('이모','', text4) 
text4 <- gsub('동영','', text4)
text4 <- gsub('^','', text4)
text4 <- gsub('ㅋ','', text4)
text4 <- gsub('ㄱ','', text4)
text4 <- gsub('이모','', text4)
text4 <- gsub('','', text4)
text4 <- gsub('','', text4)
text4 <- gsub('^!@#$%&*()_+=','', text4)
text4 <- gsub('^!@#$%&*()_+=','', text4)
text4 <- gsub('샵검색:','', text4)
text4 <- gsub('샵검색','', text4)
text4 <- gsub('^^^^','', text4)
text4 <- gsub('^^^','', text4)
text4 <- gsub('톡게시판','', text4)
text4 <- gsub('co','', text4)
text4 <- gsub('com','', text4)
text4 <- gsub('news','', text4)
text4 <- gsub('보이스톡','', text4)
text4 <- gsub('www','', text4)
text4 <- gsub('사진','', text4)
text4 <- gsub('삭제','', text4)
text4 <- gsub('메시지','', text4)
text4 <- gsub('\\^','', text4)
text4 <- gsub('\\^^','', text4)
text4 <- gsub('\\^^^','', text4)
text4 <- gsub('\\^^^^','', text4)
text4 <- gsub('kr','', text4)
text4 <- gsub('shar','', text4)
text4 <- gsub('be','', text4)
text4 <- gsub('\\♀','', text4)
text4 <- gsub('sid','', text4)
text4 <- gsub('nate','', text4)
text4 <- gsub('site','', text4)
text4 <- gsub('map','', text4)
text4 <- gsub('네이버','', text4)
text4 <- gsub('레스','', text4)

text5 <- text4[nchar(text4) < 5]# nchar: 각각의 벡터 요소의 글자 길이 알 수 있음 1초과 5미만 단어만 추출
text5 <- text5[nchar(text5) > 1]

text6 <- sort(table(text5), decreasing = TRUE) # table함수로 요소 빈도 체크 / sort() 오름차순, decreasing()내림차순
text7 <- head(text6, 300) # 상위 300개
text7
# install.packages("wordcloud2")
library(wordcloud2)

wordcloud2(text7, size = 0.7)
